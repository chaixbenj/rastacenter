<br>
<!-- bloc code -->
<table id="tablecode">
    <tr>
		<td>
			<span class="textStyle">&nbsp;&nbsp;ruby <%= t('code') %></span>
		</td>
	</tr>
</table>            

<div id="divcode" style="position:relative;width:80%;height:500px">
	<button id="btnmin" class="btnminimize" style="float:right;display:none;" value="" onclick="this.style.display='none';document.getElementById('btnmax').style.display='inline';document.getElementById('divcode').style='position:relative;width:100%;height:500px'"></button>
	<button id="btnmax" class="btnmaximize" style="float:right;display:inline;" value="" onclick="this.style.display='none';document.getElementById('btnmin').style.display='inline';document.getElementById('divcode').style='position:fixed;width:100%;height:100%;top:20px;left:0;'"></button>

	<pre id="editor1">
		<% if @badcode != nil %><%= cookies[:badproccode] %><%else%><%= @code  %><%end%>
	</pre>
</div>
<input type="hidden" name="txtareaCode" id="txtareaCode"/>

<script>
	var maxline = parseInt((document.body.clientHeight - 100) / 13);
	ace.require("ace/ext/language_tools");
     var editor1 = ace.edit("editor1", {
        theme: "ace/theme/tomorrow_night",
        mode: "ace/mode/ruby",
        maxLines: maxline,
		minLines: 10,
        wrap: true,
		fontSize: 13,
        autoScrollEditorIntoView: true
    });
	editor1.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        enableLiveAutocompletion: true
    });
</script>	


